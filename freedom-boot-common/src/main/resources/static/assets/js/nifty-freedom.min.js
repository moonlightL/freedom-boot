$(document).ready(function() {
    function l() {
        function u(e) {
            for (var n = "",
                     t = 1; 17 > t; t++) n += '<a href="#" class="thumbnail box-inline"><img class="img-responsive" src="./premium/boxed-bg/' + e + "/thumbs/" + t + '.jpg" alt="Background Image"></a>';
            return n
        }
        function h() {
            c.append(u("blurred")),
                f.append(u("polygon")),
                d.append(u("abstract"));
            var e = l.find(".thumbnail");
            e.on("click",
                function() {
                    e.removeClass("selected");
                    var n = $(this).children("img").prop("src").replace("thumbs", "bg");
                    $(this).addClass("selected"),
                        a.css({
                            "background-image": "url(" + n + ")",
                            "background-repeat": "no-repeat",
                            "background-size": "cover"
                        })
                })
        }
        var n = document.getElementById("freedom-box-lay"),
            l = $("#freedom-bg-boxed"),
            c = $("#freedom-blurred-bg"),
            f = $("#freedom-polygon-bg"),
            d = $("#freedom-abstract-bg");
        a.hasClass("boxed-layout") ? (n.checked = !0) : (n.checked = !1),
            n.onchange = function() {
                n.checked ? (a.addClass("boxed-layout"), localStorage.setItem("freedom.index.layout", "boxed-layout")) : (a.removeClass("boxed-layout").removeAttr("style"), l.removeClass("open").find(".thumbnail").removeClass("selected"),localStorage.removeItem("freedom.index.layout")),
                    $(window).trigger("resize")
            };
        var b = document.getElementById("freedom-nav-coll"),
            x = document.getElementById("freedom-nav-profile"),
            k = $("#mainnav-profile"),
            E = $("#mainnav-shortcut");
            x.checked = k.hasClass("hidden") ? !1 : !0,
            x.onchange = function() {
                k.toggleClass("hidden");
                localStorage.setItem("freedom.index.profile", x.checked ? "" : "hidden");
            },
            b.checked = a.hasClass("mainnav-sm") ? !0 : !1,
            b.onchange = function() {
                b.checked ? ($.niftyNav("collapse"), localStorage.setItem("freedom.index.nav", "mainnav-sm")) : ($.niftyNav("expand"),localStorage.setItem("freedom.index.nav", "mainnav-lg"))
            };
        var I = function() {
            for (var e = window.location.search.substring(1), n = e.split("&"), t = 0; t < n.length; t++) {
                var i = n[t].split("=");
                if ("offcanvas" == i[0]) return i[1]
            }
            return ! 1
        } ();
        "push" == I || "slide" == I || "reveal" == I ? ($(".mainnav-toggle").removeClass("push slide reveal").addClass(I), w.value = I) : b.checked = a.hasClass("mainnav-sm") ? !0 : !1;
        var A = document.getElementById("freedom-asd-float"),
            O = document.getElementById("freedom-asd-themes");
            A.checked = a.hasClass("aside-float") ? !0 : !1,
            A.onchange = function() {
                A.checked ? a.addClass("aside-float") : a.removeClass("aside-float"),
                    $(window).trigger("resize"),
                localStorage.setItem("freedom.index.float", A.checked ? "aside-float" : "");
            },
            O.checked = a.hasClass("aside-bright") ? !1 : !0,
            O.onchange = function() {
                $.niftyAside(O.checked ? "darkTheme": "brightTheme"),
                localStorage.setItem("freedom.index.darkTheme", O.checked ? "" : "aside-bright");
            };
        var D = $(".freedom-theme"),
            M = function(e, n) {
                var t = $("#theme"),
                    i = ".css",
                    a = "/assets/css/themes/type-" + n + "/" + e + i;
                t.length ? (t.prop("href", a), localStorage.setItem("freedom.index.themeStyle", a)): (t = '<link id="theme" href="' + a + '" rel="stylesheet">', $("head").append(t), localStorage.setItem("freedom.index.themeStyle", a))
            };
        $("#nifty-theme").on("click", ".freedom-theme",
            function(e) {
                e.preventDefault();
                var n = $(this);
                return n.hasClass("disabled") ? !1 : (M(n.attr("data-theme"), n.attr("data-type")), D.removeClass("disabled"), n.addClass("disabled"), !1)
            })
    }
    var e = $("#freedom-set"),
        a = ($("#freedom-set-icon"), $("#freedom-set-btngo"), $("#container")),
        s = $("#mainnav-container"),
        o = $("#aside-container");
    if (e.length) {
        var r = function() {
            for (var e = window.location.search.substring(1), n = e.split("&"), t = 0; t < n.length; t++) {
                var i = n[t].split("=");
                if ("offcanvas" == i[0]) return i[1]
            }
            return ! 1
        } (); ("push" == r || "slide" == r || "reveal" == r) && ($(".mainnav-toggle").removeClass("push slide reveal").addClass(r), a.removeClass("mainnav-lg mainnav-sm").addClass("mainnav-out " + r));
        var e = $("#freedom-set-body"),
            c = $("#freedom-set-btn");
        $("html").on("click",
            function(n) {
                e.hasClass("in") && ($(n.target).closest("#freedom-set").length || c.trigger("click"))
            }),
            c.one("click", l)
    }
});
